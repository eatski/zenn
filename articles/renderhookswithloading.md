---
title: "Render hooks with loading ã®ã™ã™ã‚" # è¨˜äº‹ã®ã‚¿ã‚¤ãƒˆãƒ«
emoji: "ğŸº" # ã‚¢ã‚¤ã‚­ãƒ£ãƒƒãƒã¨ã—ã¦ä½¿ã‚ã‚Œã‚‹çµµæ–‡å­—ï¼ˆ1æ–‡å­—ã ã‘ï¼‰
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢è¨˜äº‹
topics: ["frontend"] # ã‚¿ã‚°ã€‚["markdown", "rust", "aws"]ã®ã‚ˆã†ã«æŒ‡å®šã™ã‚‹
published: false # å…¬é–‹è¨­å®šï¼ˆfalseã«ã™ã‚‹ã¨ä¸‹æ›¸ãï¼‰
---

## ã“ã®è¨˜äº‹
- Render hooks with loading ã¨ã„ã†è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ¨å¥¨ã—ãŸã„

## èƒŒæ™¯ã«ã‚ã‚‹è¨­è¨ˆæ€æƒ³
- ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã¯ãã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã†UIã®ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ã®ã‚³ãƒ¼ãƒ‰ã®è¿‘ãã§æ›¸ããŸã„
- é–¢å¿ƒã”ã¨ã®å˜ä½ã§åˆ‡ã£ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã‚’ã™ã‚‹ã“ã¨ãŒç†æƒ³

## ç«‹ã¡ã¯ã ã‹ã‚‹å£ã€€ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
- ã‹ã¨ã„ã£ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆå†…ã§ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã™ã‚‹å ´åˆé¿ã‘ã¦é€šã‚Œãªã„å•é¡Œã€ãã‚Œã¯ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
- ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®è¡¨ç¾ã‚’è€ƒãˆã‚‹ã“ã¨ãŒé¢å€’
- å„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå€‹åˆ¥ã§ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã‚’ã—ã¦ã‚‹ã¨æ¿€ã—ã„ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ãƒ•ãƒˆãŒç™ºç”Ÿã™ã‚‹
- é–¢å¿ƒã”ã¨ã®å˜ä½ã¨ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã—ãŸã„å˜ä½ã¯ã‚¤ã‚³ãƒ¼ãƒ«ã˜ã‚ƒãªã„ã€‚å¤§æŠµãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãŒå¤§ãã„ã€‚ 
- ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚·ãƒ•ãƒˆã«ã¤ã„ã¦è€ƒæ…®ã™ã¹ããªã®ã¯å¤§æŠµã€ãƒšãƒ¼ã‚¸ãªã©ã®å¤§ããªç²’åº¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã‚ã‚Šã€å­ãŒè€ƒãˆã‚‹ã“ã¨ã§ã¯ãªã„ã€‚

## Suspseneã«ã‚ˆã‚‹å¯¾å‡¦
- ãã‚Œã«å¯¾å‡¦ã§ãã‚‹ä»£è¡¨çš„ãªæ‰‹æ®µãŒSuspense
- Suspsenseã«ã‚ˆã£ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®å•é¡Œã‚’è¦ªã«ä¸¸æŠ•ã’ã™ã‚‹ã“ã¨ãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸ

### å•é¡Œ
- Suspenseã‚’ä½¿ã£ãŸãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°æ™‚promiseã‚’throwã™ã‚‹ã‚¿ã‚¤ãƒ—ã®ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚§ãƒƒãƒã¯ã€ã‚¦ã‚©ãƒ¼ã‚¿ãƒ¼ãƒ•ã‚©ãƒ¼ãƒ«å•é¡Œã‚’èµ·ã“ã™
- SuspenseãŒ300mså¾…ãŸãªã„ã¨fallbackãŒçµ‚ã‚ã‚‰ãªã„ https://github.com/facebook/react/issues/31819
- æ­£ç›´ã¾ã ã¾ã ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ã§ä½¿ã†ã®å³ã—ã„ã‹ã‚‚ã­

## ãã“ã§ Render hooks with loading

```tsx
const usePostsViewWithLoading = () => {
    const {isLoading,data} = useSWR("/api/posts",fetcher);
    return {
        isLoading,
        view: data ? <PresentationalPosts posts={data} /> : null
    }
}
```

- ä½¿ã†å´ã«ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®è²¬å‹™ã‚’ç§»è­²ã§ãã‚‹
- ã‚·ãƒ³ãƒ—ãƒ«ãªJSé–¢æ•°ã¨ã—ã¦å®Ÿè£…ã§ãã‚‹
- https://qiita.com/uhyo/items/cb6983f52ac37e59f37e
